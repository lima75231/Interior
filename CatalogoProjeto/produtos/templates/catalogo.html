<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cat치logo Oficial | [NOME DA SUA LOJA]</title>
    
    <style>
        /* --- ESTILOS GERAIS E LAYOUT --- */
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f5f5f5; margin: 0; color: #333; }
        
        .header { 
            background-color: #128C7E; /* Verde escuro profissional */
            color: white; 
            padding: 30px 20px; 
            text-align: center; 
            margin-bottom: 20px;
        }
        .header h1 { margin: 0; font-size: 2.2em; }
        .header p { opacity: 0.9; margin-top: 5px; }
        
        /* Layout Principal: Sidebar e Conte칰do */
        .container-principal { 
            display: flex; 
            max-width: 1300px; 
            margin: 0 auto; 
            padding: 0 20px; 
        }

        /* --- ESTILOS DA BARRA LATERAL (FILTROS) --- */
        .sidebar { 
            width: 250px; 
            min-width: 250px;
            padding: 20px; 
            background-color: white; 
            border-radius: 6px; 
            margin-right: 25px; 
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); 
            height: fit-content; /* Se fixa ao conte칰do */
        }
        .sidebar h3 { color: #128C7E; border-bottom: 2px solid #eee; padding-bottom: 10px; margin-bottom: 15px; font-size: 1.1em; }
        
        /* Estilos dos campos de filtro do Django-Filter */
        .sidebar form label { display: block; font-weight: 600; margin-top: 15px; color: #555; }
        .sidebar form select, .sidebar form input[type="text"] { 
            width: 100%; 
            padding: 10px; 
            margin-top: 5px; 
            border: 1px solid #ccc; 
            border-radius: 4px; 
            box-sizing: border-box; 
        }
        .sidebar form button { 
            width: 100%;
            background-color: #007bff; 
            color: white; 
            border: none; 
            padding: 12px; 
            border-radius: 4px; 
            cursor: pointer; 
            margin-top: 20px; 
            font-weight: bold;
            transition: background-color 0.2s;
        }
        .sidebar form button:hover { background-color: #0056b3; }
        .sidebar a { display: block; text-align: center; color: #555; font-size: 0.9em; margin-top: 10px; }

        /* --- ESTILOS DO CONTE칔DO E GRID --- */
        .content { flex-grow: 1; }
        .resultados-info { margin-bottom: 15px; font-size: 1.1em; color: #666; }

        .catalogo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        /* --- ESTILOS DO CARD DE PRODUTO --- */
        .produto-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .produto-card:hover { 
            transform: translateY(-5px); 
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); 
        }
        
        .produto-img { 
            width: 100%; 
            height: 280px; /* Um pouco menor, focado no produto */
            object-fit: cover;
        }
        
        .produto-info { padding: 15px; flex-grow: 1; }
        
        .produto-nome { 
            font-size: 1.2em; 
            font-weight: 700; 
            margin-bottom: 8px; 
            color: #000; 
        }
        
        
        .produto-detalhes { 
            font-size: 0.9em; 
            color: #555; 
            margin-bottom: 15px; 
            line-height: 1.4;
        }
        
        /* Bot칚o WhatsApp no Card */
        .btn-whatsapp {
            display: block;
            background-color: #25D366; 
            color: white;
            text-align: center;
            padding: 15px;
            border-radius: 0 0 8px 8px; /* Cantos arredondados apenas no final do card */
            text-decoration: none;
            font-weight: bold;
            font-size: 1.1em;
            transition: background-color 0.2s;
        }
        .btn-whatsapp:hover { background-color: #128C7E; }

        /* --- BOT츾O FLUTUANTE --- */
        .whatsapp-flutuante {
            position: fixed; bottom: 30px; right: 30px; z-index: 1000; background-color: #25D366; color: white; border-radius: 50%; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); text-decoration: none; transition: transform 0.3s;
        }
        .whatsapp-flutuante:hover { transform: scale(1.1); }
        .whatsapp-flutuante::before { content: "游눫"; font-size: 28px; }

        /* --- RESPONSIVIDADE PARA CELULAR --- */
        @media (max-width: 850px) {
            .container-principal { 
                flex-direction: column; /* Coloca a barra lateral acima do conte칰do */
            }
            .sidebar { 
                width: 100%; 
                min-width: auto;
                margin-right: 0;
                margin-bottom: 20px;
            }
            .catalogo-grid {
                grid-template-columns: repeat(auto-fit, minmax(100%, 1fr)); /* 1 coluna em celular */
            }
        }
    </style>
</head>
<body>
    
    <div class="header">
        <h1>[NOME DA SUA LOJA]</h1>
        <p>Cat치logo Oficial | Or칞amentos R치pidos via WhatsApp</p>

        <a href="{% url 'sobre_a_marca' %}" style="color: white; margin-top: 10px; display: inline-block; text-decoration: underline; font-weight: 600;">
        Conhe칞a a Hist칩ria da Marca
        </a>
    </div>

    <div class="container-principal">
        
        <div class="sidebar">
            <h3>Filtrar e Buscar</h3>
            
            <form method="get">
                <label for="{{ filtro.form.categoria.id_for_label }}">Categoria:</label>
                {{ filtro.form.categoria }}
                
                <label for="{{ filtro.form.acabamento.id_for_label }}">Acabamento:</label>
                {{ filtro.form.acabamento }}

                <label for="{{ filtro.form.nome.id_for_label }}">Buscar por Nome:</label>
                {{ filtro.form.nome }}

                <button type="submit">Aplicar Filtros</button>
            </form>
            
            <a href="{% url 'catalogo_lista' %}">Limpar Filtros</a>
        </div>          
                <div class="produto-card">
    
            <img 
                src="{{ produto.link_foto }}" 
                alt="{{ produto.nome }}" 
                class="produto-img"
                loading="lazy" 
            >


        <div class="content">
            <p class="resultados-info">
                {% if produtos %}
                    Mostrando **{{ produtos|length }}** produto(s) encontrado(s).
                {% else %}
                    Nenhum produto encontrado. Tente limpar os filtros.
                {% endif %}
            </p>
            
            <div class="catalogo-grid">
                {% for produto in produtos %}
                <div class="produto-card">
                    <img src="{{ produto.link_foto }}" alt="{{ produto.nome }}" class="produto-img">
                    
                     <div class="produto-info">
                        <div class="produto-nome">{{ produto.nome }} ({{ produto.codigo }})</div>
                        <div class="produto-detalhes">
                            **Acabamento:** {{ produto.acabamento|default:"N/A" }}<br>
                            **Detalhes:** {{ produto.detalhes|default:"Mais detalhes no WhatsApp"|truncatechars:100 }}
                        </div>
                    </div>
                    
                    <a href="{{ produto.get_whatsapp_link }}" target="_blank" class="btn-whatsapp">
                        OR칂AR AGORA
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    
    <a href="https://wa.me/{{ settings.WHATSAPP_NUMBER }}?text=Ol%C3%A1!%20Vi%20o%20cat%C3%A1logo%20e%20gostaria%20de%20falar%20sobre%20os%20materiais%20de%20constru%C3%A7%C3%A3o." 
       target="_blank" 
       class="whatsapp-flutuante" 
       title="Fale Conosco">
    </a>
    
</body>
</html>